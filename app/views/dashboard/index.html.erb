<div id="news_articles">
    <%= render :partial => "static_articles" %>
    <div id="right_column" class="right_column">
    <div class="article">
      <h2>SOC Clock</h2>
      <p class="date">June 29, 2009</p>
      <div class='lede'>
          <script type="text/javascript">

            function cdtime(container, targetdate){
              if (!document.getElementById || !document.getElementById(container)) return
              this.container=document.getElementById(container)
              this.currentTime=new Date()
              this.targetdate=new Date(targetdate)
              this.timesup=false
              this.updateTime()
            }

            cdtime.prototype.updateTime=function(){
              var thisobj=this
              this.currentTime.setSeconds(this.currentTime.getSeconds()+1)
              setTimeout(function(){thisobj.updateTime()}, 1000) //update time every second
            }

            cdtime.prototype.displaycountdown=function(baseunit, functionref){
              this.baseunit=baseunit
              this.formatresults=functionref
              this.showresults()
            }

            cdtime.prototype.showresults=function(){
              var thisobj=this


              var timediff=(this.targetdate-this.currentTime)/1000 //difference btw target date and current date, in seconds
              if (timediff<0){ //if time is up
              this.timesup=true
              this.container.innerHTML=this.formatresults()
              return
              }
              var oneMinute=60 //minute unit in seconds
              var oneHour=60*60 //hour unit in seconds
              var oneDay=60*60*24 //day unit in seconds
              var dayfield=Math.floor(timediff/oneDay)
              var hourfield=Math.floor((timediff-dayfield*oneDay)/oneHour)
              var minutefield=Math.floor((timediff-dayfield*oneDay-hourfield*oneHour)/oneMinute)
              var secondfield=Math.floor((timediff-dayfield*oneDay-hourfield*oneHour-minutefield*oneMinute))
              if (this.baseunit=="hours"){ //if base unit is hours, set "hourfield" to be topmost level
              hourfield=dayfield*24+hourfield
              dayfield="n/a"
              }
              else if (this.baseunit=="minutes"){ //if base unit is minutes, set "minutefield" to be topmost level
              minutefield=dayfield*24*60+hourfield*60+minutefield
              dayfield=hourfield="n/a"
              }
              else if (this.baseunit=="seconds"){ //if base unit is seconds, set "secondfield" to be topmost level
              var secondfield=timediff
              dayfield=hourfield=minutefield="n/a"
              }
              this.container.innerHTML=this.formatresults(dayfield, hourfield, minutefield, secondfield)
              setTimeout(function(){thisobj.showresults()}, 1000) //update results every second
            }


            function formatresults(){
              if (this.timesup==false){//if target date/time not yet met
              var displaystring="<span class='jeffstyle'>"+arguments[1]+"H:"+arguments[2]+"M:"+arguments[3]+"S"
              }
              else{ //else if target date/time met
              var displaystring="Landfall"
              }
              return displaystring
            }

            function formatresults1(){
              if (this.timesup==false){//if target date/time not yet met
              var displaystring="<span class='jeffstyle2'>"+arguments[1]+"H:"+arguments[2]+"M:"+arguments[3]+"S"
              }
              else{ //else if target date/time met
              var displaystring="<span class='jeffstyle3'>"+ "-- : -- : --"
              }
              return displaystring
            }

            var limit="10:00"

            if (document.images){
            var parselimit=limit.split(":")
            parselimit=parselimit[0]*60+parselimit[1]*1
            }

            function beginrefresh(){
              if (!document.images)
              return
              if (parselimit==1)
              window.location.reload()
              else{
              parselimit-=1
              curmin=Math.floor(parselimit/60)
              cursec=parselimit%60
              if (curmin!=0)
              curtime=curmin+" minutes and "+cursec+" seconds left until page refresh!"
              else
              curtime=cursec+" seconds left until page refresh!"
              window.status=curtime
              setTimeout("beginrefresh()",1000)
              }
            }

            window.onload=beginrefresh

          </script>


          <table cellpadding="5" align="center" style="margin:0px auto;">
            <tr>
              <td style="font-weight: bold; font-size: 12px; color: black; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="" align="center"><i>Started: 2200 hrs, 6/27/10</i></td>
            </tr>
            <tr>

            <td align="center"><div id="countdowncontainer"></div></td>
            </tr>
            <tr>
              <td style="font-weight: bold; font-size: 12px; color: black; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="" align="center"><i>H-0: 1300 hrs, Wed, 6/30/2010</i></td>
            </tr>
            <tr>
             <td style="font-weight: bold; font-size: 12px; color: black; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="" align="center"><i>Landfall: 0500 hrs, Thurs, 7/1/2010</i></td>
            </tr>
          </table>
            <br><br>
            <table cellpadding="9" align="center" style="margin:0px auto">
            <tr>
            <td style="font-weight: bold; font-size: 12px; color: white; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="#4f81bd" align="center">H-Hour</td>
            <td style="font-weight: bold; font-size: 12px; color: white; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="#4f81bd" align="center">Time/Date</td>

            <td style="font-weight: bold; font-size: 12px; color: white; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="#4f81bd" align="center">Time Until</td>
            </tr>

            <tr>
            <td style="font-weight: bold; font-size: 12px; color: black; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="#e9edf4" align="center">H-12&nbsp;&nbsp;</td>
            <td style="font-weight: bold; font-size: 12px; color: black; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="#e9edf4" align="center">0100 hrs, June 30th, 2010</td>
            <td style="font-weight: bold; font-size: 12px; color: black; font-style: normal; font-family:arial,verdana,sans-serif" bgcolor="#e9edf4" align="right"><div id="countdowncontainer12"></div></td>
            </tr>

          </table>


          <script type="text/javascript">

            var futuredate=new cdtime("countdowncontainer", "June 30, 2010 13:00:00")
            futuredate.displaycountdown("hours", formatresults)


            var futuredate=new cdtime("countdowncontainer12", "June 30, 2010 01:00:00")
            futuredate.displaycountdown("hours", formatresults1)



            var currentyear=new Date().getFullYear()
            //dynamically get this Christmas' year value. If Christmas already passed, then year=current year+1
            var thischristmasyear=(new Date().getMonth()>=11 && new Date().getDate()>25)? currentyear+1 : currentyear
            var christmas=new cdtime("countdowncontainer2", "December 25, "+thischristmasyear+" 0:0:00")


          </script>
        <br/>
        <p><a href='http://www.twirp.org/clock.html' title="Via: www.twirp.org/clock.html. Click here for original." style="font-size:15px;">Via: www.twirp.org/clock.html. Click here for original.</a></p>
      </div>
    </div>


    <div class="article">
      <h2>2010 Hurricane Season Tracking Map</h2>
      <p class="date">June 29, 2009</p>
      <div class='lede'>
        <p>

          <object width="100%" height="590" type="application/x-shockwave-flash" id="stormpulse" data="https://secure.www.stormpulse.com/swf/stormpulse.swf?v=222"><param name="allowScriptAccess" value="always"><param name="bgcolor" value="#000000"><param name="flashvars" value="env=PROD&amp;rels=1.3&amp;swf_version=222&amp;lcId=&amp;current_year=2010&amp;layoutCd=4&amp;storm_season=2010&amp;focal_storm_id=201001&amp;lat=23.900000&amp;lng=-95.100000&amp;zl=3&amp;clouds=2010062910&amp;coll_cnt=1&amp;active_cnt=1&amp;storm_name=None&amp;region=10&amp;custom_view=0&amp;url_prefs=0&amp;location_id=&amp;focal_hazard_id=&amp;small_town=&amp;location_name=&amp;focal_hazard_typ=&amp;focal_storm_trk=&amp;focal_storm_idx=&amp;focal_storm_trk_desc="></object>

        </p>
        <br/>
        <p><a href='http://www.stormpulse.com' title="Via: www.stormpulse.com.  Click here for original." style="font-size:15px;">Via: www.stormpulse.com. Click here for original.</a></p>
      </div>

    </div>
  </div>
  <%= render :partial => "feed_articles", :locals => {:entries => @entries} %>
</div>

